{"ast":null,"code":"import _regeneratorRuntime from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/irfan91/Desktop/aplikasi-keuangan/src/scenes/private/produk/add.js\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types'; //material -ui \n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle'; //import firebase hook\n\nimport { useFirebase } from \"../../../components/FirebaseProvider\"; //import router\n\nimport { withRouter } from 'react-router-dom';\n\nfunction AddDialog({\n  history,\n  open,\n  handleClose\n}) {\n  const _useFirebase = useFirebase(),\n        firestore = _useFirebase.firestore,\n        user = _useFirebase.user;\n\n  const produkCol = firestore.collection(\"toko/\".concat(user.uid, \"/produk\"));\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        nama = _useState2[0],\n        setNama = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isSubmitting = _useState6[0],\n        setSubmitting = _useState6[1];\n\n  const handleSimpan = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var produkBaru;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            setSubmitting(true);\n            _context.prev = 1;\n\n            if (nama) {\n              _context.next = 4;\n              break;\n            }\n\n            throw new Error('Nama Produk harus diisi');\n\n          case 4:\n            _context.next = 6;\n            return produkCol.add({\n              nama\n            });\n\n          case 6:\n            produkBaru = _context.sent;\n            history.push(\"produk/edit/\".concat(produkBaru.id));\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](1);\n            setError(_context.t0.message);\n\n          case 13:\n            setSubmitting(false);\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[1, 10]]);\n    }));\n\n    return function handleSimpan(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Buat Produk Baru\"), /*#__PURE__*/React.createElement(DialogContent, {\n    dividers: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"nama\",\n    label: \"Nama Produk\",\n    value: nama,\n    onChange: e => {\n      setNama(e.target.value);\n    },\n    helperText: error,\n    error: error ? true : false,\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, \"Batal\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSimpan,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, \"Simpan\"))));\n}\n\nAddDialog.propTypes = {\n  open: PropTypes.bool.isRequired,\n  handleClose: PropTypes.func.isRequired\n};\nexport default withRouter(AddDialog);","map":{"version":3,"sources":["/home/irfan91/Desktop/aplikasi-keuangan/src/scenes/private/produk/add.js"],"names":["React","useState","PropTypes","Button","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","useFirebase","withRouter","AddDialog","history","open","handleClose","firestore","user","produkCol","collection","uid","nama","setNama","error","setError","isSubmitting","setSubmitting","handleSimpan","e","Error","add","produkBaru","push","id","message","target","value","propTypes","bool","isRequired","func"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport PropTypes from 'prop-types'\n\n\n//material -ui \nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n//import firebase hook\nimport { useFirebase } from \"../../../components/FirebaseProvider\";\n\n//import router\nimport {withRouter} from 'react-router-dom'\n\nfunction AddDialog({history, open, handleClose}) {\n\n    const {firestore , user} = useFirebase();\n    const produkCol = firestore.collection(`toko/${user.uid}/produk`)\n\n    const [nama, setNama] = useState('');\n\n    const [error, setError] = useState('');\n\n    const [isSubmitting, setSubmitting] = useState(false);\n\n  \n\n    const handleSimpan = async (e) => {\n\n        setSubmitting(true);\n        try{\n\n            if (!nama) {\n                throw new Error('Nama Produk harus diisi');\n            }\n\n            const produkBaru = await produkCol.add({nama});\n\n            history.push(`produk/edit/${produkBaru.id}`)\n\n        } catch(e){\n\n            setError(e.message);\n        }\n        setSubmitting(false);\n\n    }\n    return (\n        <div>\n            <Dialog open={open} onClose={handleClose}>\n                <DialogTitle>Buat Produk Baru</DialogTitle>\n                <DialogContent dividers>\n                    <TextField \n                        id=\"nama\"\n                        label = \"Nama Produk\"\n                        value={nama}\n                        onChange={(e) => {\n                            setNama(e.target.value);\n                        }}\n                        helperText={error}\n                        error={error?true:false}\n                        disabled={isSubmitting}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                    disabled={isSubmitting}\n                    >Batal</Button>\n                    <Button onClick={handleSimpan} color=\"primary\">Simpan</Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    )\n}\n\nAddDialog.propTypes = {\n    open : PropTypes.bool.isRequired,\n    handleClose : PropTypes.func.isRequired\n}\n\nexport default withRouter(AddDialog);"]},"metadata":{},"sourceType":"module"}