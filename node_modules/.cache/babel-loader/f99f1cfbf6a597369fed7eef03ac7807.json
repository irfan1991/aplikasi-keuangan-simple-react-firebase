{"ast":null,"code":"import _regeneratorRuntime from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/irfan91/Desktop/aplikasi-keuangan/src/scenes/private/pengaturan/pengguna.js\";\nimport React, { useRef, useState } from 'react'; //material -ui \n\nimport TextField from '@material-ui/core/TextField'; //  firebase hook\n\nimport { useFirebase } from \"../../../components/FirebaseProvider\"; //import notifikasi\n\nimport { useSnackbar } from 'notistack';\nexport default function Pengguna() {\n  const _useFirebase = useFirebase(),\n        user = _useFirebase.user;\n\n  const _useState = useState({\n    displayName: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        error = _useState2[0],\n        setError = _useState2[1];\n\n  const displayNameRef = useRef();\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isSubmitting = _useState4[0],\n        setSubmitting = _useState4[1];\n\n  const _useSnackbar = useSnackbar(),\n        enqueueSnackbar = _useSnackbar.enqueueSnackbar;\n\n  const saveDisplayName = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var displayName;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            displayName = displayNameRef.current.value;\n            console.log(displayName);\n\n            if (displayName) {\n              _context.next = 6;\n              break;\n            }\n\n            setError({\n              displayName: \"Nama harus diisi !\"\n            });\n            _context.next = 13;\n            break;\n\n          case 6:\n            if (!(displayName !== user.displayName)) {\n              _context.next = 13;\n              break;\n            }\n\n            setError({\n              displayName: \" \"\n            });\n            setSubmitting(true);\n            _context.next = 11;\n            return user.updateProfile({\n              displayName\n            });\n\n          case 11:\n            setSubmitting(false);\n            enqueueSnackbar('Data pengguna berhasil diupdate', {\n              variant: 'success'\n            });\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function saveDisplayName(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"displayName\",\n    name: \"displayName\",\n    label: \"Nama\",\n    defaultValue: user.displayName,\n    inputProps: {\n      ref: displayNameRef,\n      onBlur: saveDisplayName\n    },\n    disabled: isSubmitting,\n    helperText: error.displayName,\n    error: error.displayName ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }));\n}","map":{"version":3,"sources":["/home/irfan91/Desktop/aplikasi-keuangan/src/scenes/private/pengaturan/pengguna.js"],"names":["React","useRef","useState","TextField","useFirebase","useSnackbar","Pengguna","user","displayName","error","setError","displayNameRef","isSubmitting","setSubmitting","enqueueSnackbar","saveDisplayName","e","current","value","console","log","updateProfile","variant","ref","onBlur"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAcC,MAAd,EAAsBC,QAAtB,QAAqC,OAArC,C,CAEA;;AACA,OAAOC,SAAP,MAAsB,6BAAtB,C,CAEA;;AACA,SAASC,WAAT,QAA4B,sCAA5B,C,CAEA;;AACA,SAAQC,WAAR,QAA0B,WAA1B;AAEA,eAAe,SAASC,QAAT,GAAoB;AAAA,uBAEdF,WAAW,EAFG;AAAA,QAEvBG,IAFuB,gBAEvBA,IAFuB;;AAAA,oBAGLL,QAAQ,CAAC;AAC/BM,IAAAA,WAAW,EAAG;AADiB,GAAD,CAHH;AAAA;AAAA,QAGxBC,KAHwB;AAAA,QAGjBC,QAHiB;;AAQ/B,QAAMC,cAAc,GAAIV,MAAM,EAA9B;;AAR+B,qBASOC,QAAQ,CAAC,KAAD,CATf;AAAA;AAAA,QASxBU,YATwB;AAAA,QASVC,aATU;;AAAA,uBAULR,WAAW,EAVN;AAAA,QAUxBS,eAVwB,gBAUxBA,eAVwB;;AAW/B,QAAMC,eAAe;AAAA,wEAAG,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AACdR,YAAAA,WADc,GACAG,cAAc,CAACM,OAAf,CAAuBC,KADvB;AAEpBC,YAAAA,OAAO,CAACC,GAAR,CAAYZ,WAAZ;;AAFoB,gBAIfA,WAJe;AAAA;AAAA;AAAA;;AAKhBE,YAAAA,QAAQ,CAAC;AACLF,cAAAA,WAAW,EAAG;AADT,aAAD,CAAR;AALgB;AAAA;;AAAA;AAAA,kBAQVA,WAAW,KAAKD,IAAI,CAACC,WARX;AAAA;AAAA;AAAA;;AAUhBE,YAAAA,QAAQ,CAAC;AACLF,cAAAA,WAAW,EAAG;AADT,aAAD,CAAR;AAIAK,YAAAA,aAAa,CAAC,IAAD,CAAb;AAdgB;AAAA,mBAeVN,IAAI,CAACc,aAAL,CAAmB;AACrBb,cAAAA;AADqB,aAAnB,CAfU;;AAAA;AAkBhBK,YAAAA,aAAa,CAAC,KAAD,CAAb;AACAC,YAAAA,eAAe,CAAC,iCAAD,EAAoC;AAACQ,cAAAA,OAAO,EAAG;AAAX,aAApC,CAAf;;AAnBgB;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAfP,eAAe;AAAA;AAAA;AAAA,KAArB;;AAyBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AACI,IAAA,EAAE,EAAC,aADP;AAEI,IAAA,IAAI,EAAC,aAFT;AAGI,IAAA,KAAK,EAAC,MAHV;AAII,IAAA,YAAY,EAAER,IAAI,CAACC,WAJvB;AAKI,IAAA,UAAU,EAAE;AACRe,MAAAA,GAAG,EAAGZ,cADE;AAERa,MAAAA,MAAM,EAAET;AAFA,KALhB;AASI,IAAA,QAAQ,EAAEH,YATd;AAUI,IAAA,UAAU,EAAEH,KAAK,CAACD,WAVtB;AAWI,IAAA,KAAK,EAAEC,KAAK,CAACD,WAAN,GAAoB,IAApB,GAA2B,KAXtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAiBH","sourcesContent":["import React,{useRef, useState} from 'react'\n\n//material -ui \nimport TextField from '@material-ui/core/TextField'\n\n//  firebase hook\nimport { useFirebase } from \"../../../components/FirebaseProvider\";\n\n//import notifikasi\nimport {useSnackbar} from 'notistack'\n\nexport default function Pengguna() {\n\n    const { user } = useFirebase();\n    const [error, setError] = useState({\n        displayName : ''\n\n    });\n\n    const displayNameRef =  useRef();\n    const [isSubmitting, setSubmitting] = useState(false);\n    const {enqueueSnackbar} = useSnackbar();\n    const saveDisplayName = async (e)=>{\n        const displayName = displayNameRef.current.value;\n        console.log(displayName)\n\n        if (!displayName) {\n            setError({\n                displayName : \"Nama harus diisi !\"\n            })\n        } else if(displayName !== user.displayName){\n\n            setError({\n                displayName : \" \"\n            })\n\n            setSubmitting(true);\n            await user.updateProfile({\n                displayName\n            });\n            setSubmitting(false);\n            enqueueSnackbar('Data pengguna berhasil diupdate', {variant : 'success'});\n        }\n\n       \n    }\n\n    return (\n        <div>\n            <TextField \n                id=\"displayName\"\n                name=\"displayName\"\n                label=\"Nama\"\n                defaultValue={user.displayName}\n                inputProps={{\n                    ref : displayNameRef,\n                    onBlur: saveDisplayName,\n                }}\n                disabled={isSubmitting}\n                helperText={error.displayName}\n                error={error.displayName ? true : false}\n            />\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}