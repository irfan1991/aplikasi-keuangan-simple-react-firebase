{"ast":null,"code":"import _regeneratorRuntime from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/home/irfan91/Desktop/aplikasi-keuangan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/irfan91/Desktop/aplikasi-keuangan/src/scenes/login/index.js\";\nimport React, { useState } from 'react'; // import style from './index.module.css'\n//import komponen ui\n\nimport Container from '@material-ui/core/Container';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport AppLoading from '../../components/AppLoading'; //import validasi \n\nimport isEmail from 'validator/lib/isEmail'; //imp react router\n\nimport { Link, Redirect } from 'react-router-dom'; //import firebase hook\n\nimport { useFirebase } from \"../../components/FirebaseProvider\"; //import style \n\nimport useStyles from \"./style\";\nexport default function Login(props) {\n  const classes = useStyles();\n  const location = props.location;\n\n  const _useState = useState({\n    email: '',\n    password: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        form = _useState2[0],\n        setform = _useState2[1];\n\n  const _useState3 = useState({\n    email: '',\n    password: ''\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        isSubmitting = _useState6[0],\n        setSubmitting = _useState6[1];\n\n  const _useFirebase = useFirebase(),\n        auth = _useFirebase.auth,\n        user = _useFirebase.user,\n        loading = _useFirebase.loading;\n\n  const handleChange = e => {\n    setform(_objectSpread(_objectSpread({}, form), {}, {\n      [e.target.name]: e.target.value\n    }));\n    setError(_objectSpread(_objectSpread({}, error), {}, {\n      [e.target.name]: ''\n    }));\n  };\n\n  const validate = () => {\n    const newError = _objectSpread({}, error);\n\n    if (!form.email) {\n      newError.email = \"Email wajib diisi\";\n    } else if (!isEmail(form.email)) {\n      newError.email = \"Email tidak valid\";\n    }\n\n    if (!form.password) {\n      newError.password = \"Password wajid diisi\";\n    } else if (form.password.length < 5) {\n      newError.password = \"Password minimal 6 karakter \";\n    }\n\n    return newError;\n  };\n\n  const handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var findErros, newErrors;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            findErros = validate();\n\n            if (!Object.values(findErros).some(err => err != '')) {\n              _context.next = 6;\n              break;\n            }\n\n            setError(findErros);\n            _context.next = 32;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            setSubmitting(true);\n            _context.next = 10;\n            return auth.signInWithEmailAndPassword(form.email, form.password);\n\n          case 10:\n            _context.next = 32;\n            break;\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](6);\n            newErrors = {};\n            _context.t1 = _context.t0.code;\n            _context.next = _context.t1 === 'auth/user-not-found' ? 18 : _context.t1 === 'auth/invalid-email' ? 20 : _context.t1 === 'auth/wrong-password' ? 22 : _context.t1 === 'auth/user-disabled' ? 24 : _context.t1 === 'auth/operation-not-allowed' ? 26 : 28;\n            break;\n\n          case 18:\n            newErrors.email = 'Email tidak terdaftar';\n            return _context.abrupt(\"break\", 30);\n\n          case 20:\n            newErrors.email = 'Email tidak valid';\n            return _context.abrupt(\"break\", 30);\n\n          case 22:\n            newErrors.password = 'Password salah';\n            return _context.abrupt(\"break\", 30);\n\n          case 24:\n            newErrors.email = 'Pengguna diblokir';\n            return _context.abrupt(\"break\", 30);\n\n          case 26:\n            newErrors.email = 'Metode email dan password tidak mendukung';\n            return _context.abrupt(\"break\", 30);\n\n          case 28:\n            newErrors.email = _context.t0.message;\n            return _context.abrupt(\"break\", 30);\n\n          case 30:\n            setError(newErrors);\n            setSubmitting(false);\n\n          case 32:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[6, 12]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(AppLoading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 16\n      }\n    });\n  }\n\n  if (user) {\n    const redirectTo = location.state && location.state.from && location.state.from.pathname ? location.state.from.pathname : '/';\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: redirectTo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 16\n      }\n    });\n  }\n\n  console.log(form.password.length);\n  return /*#__PURE__*/React.createElement(Container, {\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    component: \"h1\",\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"Halaman Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"email\",\n    type: \"email\",\n    name: \"email\",\n    margin: \"normal\",\n    label: \"Alamat Email\",\n    fullWidth: true,\n    required: true,\n    value: form.email,\n    onChange: handleChange,\n    helperText: error.email,\n    error: error.email ? true : false,\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"password\",\n    type: \"password\",\n    name: \"password\",\n    margin: \"normal\",\n    label: \"Password\",\n    fullWidth: true,\n    required: true,\n    value: form.password,\n    onChange: handleChange,\n    helperText: error.password,\n    error: error.password ? true : false,\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    className: classes.buttons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"contained\",\n    size: \"large\",\n    disabled: isSubmitting,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    size: \"large\",\n    component: Link,\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, \"Daftar\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.forgotPassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: Link,\n    to: \"/lupa-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, \"Lupa Password ?\")))));\n}","map":{"version":3,"sources":["/home/irfan91/Desktop/aplikasi-keuangan/src/scenes/login/index.js"],"names":["React","useState","Container","Paper","Button","Typography","TextField","Grid","AppLoading","isEmail","Link","Redirect","useFirebase","useStyles","Login","props","classes","location","email","password","form","setform","error","setError","isSubmitting","setSubmitting","auth","user","loading","handleChange","e","target","name","value","validate","newError","length","handleSubmit","preventDefault","findErros","Object","values","some","err","signInWithEmailAndPassword","newErrors","code","message","redirectTo","state","from","pathname","console","log","paper","title","buttons","forgotPassword"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\n// import style from './index.module.css'\n\n//import komponen ui\nimport Container from '@material-ui/core/Container'\nimport Paper from '@material-ui/core/Paper'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Grid from '@material-ui/core/Grid'\nimport AppLoading from '../../components/AppLoading'\n\n//import validasi \nimport isEmail from 'validator/lib/isEmail'\n\n\n//imp react router\nimport { Link, Redirect } from 'react-router-dom'\n\n//import firebase hook\nimport { useFirebase } from \"../../components/FirebaseProvider\";\n\n//import style \nimport useStyles from \"./style\";\n\n\nexport default function Login(props) {\n\n    const classes = useStyles();\n\n    const {location}= props;\n\n    const [form, setform] = useState({\n        email : '',\n        password : '',\n      \n    });\n\n\n    const [error, setError] = useState({\n        email : '',\n        password : '',\n      \n    });\n\n    const [isSubmitting, setSubmitting] = useState(false);\n\n    const {auth , user , loading} = useFirebase();\n\n    const handleChange = e =>{\n        setform({\n            ...form,\n            [e.target.name] : e.target.value\n        });\n\n        setError({\n            ...error,\n            [e.target.name]:''\n        });\n    }\n\n    const validate = ()=>{\n        const newError = {...error};\n\n        if (!form.email) {\n            newError.email = \"Email wajib diisi\";\n        } else if(!isEmail(form.email)) {\n            newError.email = \"Email tidak valid\";\n        }\n\n        if (!form.password) {\n            newError.password = \"Password wajid diisi\";\n        }else if(form.password.length < 5 ){\n            newError.password = \"Password minimal 6 karakter \";\n        }\n\n       \n\n        return newError;\n    }\n\n   const handleSubmit = async e=>{\n        e.preventDefault();\n        const findErros = validate();\n\n        if (Object.values(findErros).some(err => err != '')) {\n            setError(findErros);\n        } else {\n\n            try{\n                setSubmitting(true);\n                await auth.signInWithEmailAndPassword(form.email, form.password)\n\n            } catch(e){\n                const newErrors = {};\n\n                switch (e.code) {\n                    case 'auth/user-not-found':\n                        newErrors.email = 'Email tidak terdaftar';\n                        break;\n\n                    case 'auth/invalid-email':\n                        newErrors.email = 'Email tidak valid';\n                        break;\n\n                    case 'auth/wrong-password':\n                        newErrors.password = 'Password salah';\n                        break;\n\n                    case 'auth/user-disabled':\n                        newErrors.email = 'Pengguna diblokir';\n                        break;\n\n                    \n                    case 'auth/operation-not-allowed':\n                            newErrors.email = 'Metode email dan password tidak mendukung';\n                            break;\n\n                    default:\n                        newErrors.email = e.message;\n                        break;\n                }\n\n                setError(newErrors);\n                setSubmitting(false);\n            }\n\n        }\n\n    }\n    \n    if (loading) {\n        return <AppLoading />\n    }\n\n    if (user) {\n        const redirectTo = location.state && location.state.from && \n        location.state.from.pathname ? location.state.from.pathname : '/';\n        return <Redirect to={redirectTo} />\n    }\n\n\n    console.log(form.password.length);\n    return (\n      <Container maxWidth=\"xs\">\n          <Paper className={classes.paper}>\n            <Typography\n            variant=\"h5\"\n            component=\"h1\"\n            className={classes.title}>Halaman Login</Typography>\n\n            <form onSubmit={handleSubmit} noValidate>\n                \n                <TextField \n                    id=\"email\"\n                    type=\"email\"\n                    name=\"email\"\n                    margin=\"normal\"\n                    label=\"Alamat Email\"\n                    fullWidth\n                    required\n                    value={form.email}\n                    onChange={handleChange}\n                    helperText ={error.email}\n                    error={error.email?true:false}\n                    disabled={isSubmitting}\n                />\n\n                <TextField \n                    id=\"password\"\n                    type=\"password\"\n                    name=\"password\"\n                    margin=\"normal\"\n                    label=\"Password\"\n                    fullWidth\n                    required\n                    value={form.password}\n                    onChange={handleChange}\n                    helperText ={error.password}\n                    error={error.password?true:false}\n                    disabled={isSubmitting}\n                />\n\n\n                <Grid container className={classes.buttons}>\n                    <Grid item xs>\n                        <Button type=\"submit\"\n                            color=\"primary\"\n                            variant=\"contained\"\n                            size=\"large\"\n                            disabled={isSubmitting}\n                            >Login</Button>\n                    </Grid>\n\n                    <Grid item>\n                        <Button \n                            variant=\"contained\"\n                            size=\"large\" component={Link} to=\"/register\">Daftar</Button>\n                    </Grid>\n                </Grid>\n\n                <div className={classes.forgotPassword}>\n                <Typography component={Link} to=\"/lupa-password\">Lupa Password ?</Typography></div>\n            </form>\n       \n        </Paper>\n        </Container>\n    )\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}